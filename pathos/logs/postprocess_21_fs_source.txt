#version 130
#extension GL_ARB_texture_rectangle : enable
uniform sampler2DRect texture0rect;
uniform vec4 color;
uniform float screenwidth;
uniform float screenheight;

uniform vec2 offsetdivider;

in vec2 ps_texcoord;
out vec4 oColor;

vec4 texture0Func( vec2 texcoord )
{
return texture(texture0rect, texcoord);
}
uniform float vignetteStrength;
uniform float vignetteRadius;
void main()
{
	vec4 color = texture(texture0, ps_texcoord);
    vec2 uv = vec2(ps_texcoord.x / screenwidth, ps_texcoord.y / screenheight);
    vec2 centeredUV = uv - vec2(0.5, 0.5);
    float distance = length(centeredUV);
    float vignette = smoothstep(vignetteRadius, vignetteRadius - vignetteStrength, distance);
    color.rgb *= vignette;
    oColor = color;
	}
